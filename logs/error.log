{"date":"Wed Feb 01 2017 20:46:42 GMT+0800 (CST)","process":{"pid":1006,"uid":501,"gid":20,"cwd":"/Users/lihao/Desktop/NodeDemo/AppServer","execPath":"/usr/local/bin/node","version":"v6.9.1","argv":["/usr/local/bin/node","/Users/lihao/Desktop/NodeDemo/AppServer/bin/www"],"memoryUsage":{"rss":51408896,"heapTotal":36712448,"heapUsed":24093440}},"os":{"loadavg":[2.775390625,2.6201171875,2.69189453125],"uptime":36738},"trace":[{"column":21,"file":"<anonymous>","function":"eval (eval at compile (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/ejs/lib/ejs.js:464:12),","line":11,"method":"js:464:12),","native":false},{"column":17,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/ejs/lib/ejs.js","function":"returnedFn","line":493,"method":null,"native":false},{"column":31,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/ejs/lib/ejs.js","function":"View.exports.renderFile [as engine]","line":350,"method":"exports.renderFile [as engine]","native":false},{"column":8,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/view.js","function":"View.render","line":126,"method":"render","native":false},{"column":10,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/application.js","function":"tryRender","line":639,"method":null,"native":false},{"column":3,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/application.js","function":"EventEmitter.render","line":591,"method":"render","native":false},{"column":7,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/response.js","function":"ServerResponse.render","line":960,"method":"render","native":false},{"column":9,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/routes/users.js","function":null,"line":55,"method":null,"native":false},{"column":5,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/router/route.js","function":"next","line":131,"method":null,"native":false}],"stack":["ReferenceError: /Users/lihao/Desktop/NodeDemo/AppServer/views/user.ejs:34","    32|             <td style=\"width:70px;\">时间</td>","    33|         </tr>"," >> 34|         <% for(var i in data){ %>","    35|         <tr style=\"text-align:center;height:26px;color:#4C4C4C;\">","    36|             <td width=\"10px;\"><%= (parseInt(i) + 1) %></td>","    37|             <td><%= data[i].id %></td>","","data is not defined","    at eval (eval at compile (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/ejs/lib/ejs.js:464:12), <anonymous>:11:21)","    at returnedFn (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/ejs/lib/ejs.js:493:17)","    at View.exports.renderFile [as engine] (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/ejs/lib/ejs.js:350:31)","    at View.render (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/view.js:126:8)","    at tryRender (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/application.js:639:10)","    at EventEmitter.render (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/application.js:591:3)","    at ServerResponse.render (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/response.js:960:7)","    at /Users/lihao/Desktop/NodeDemo/AppServer/routes/users.js:55:9","    at Layer.handle [as handle_request] (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/router/layer.js:95:5)","    at next (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/router/route.js:131:13)"],"req":{"url":"/users/manager","headers":{"host":"localhost:3000","cookie":"connect.sid=s%3A9Jw3oj9wKOtfUfM8k_fbcZ7fijEj4YSM.Sz8kkJoPwXsf7M7IgAMRxcfjisEuFuAOH5wxQPjahBU; myblog=s%3Aayda0MgvXb6TLFxq-6Y-TymJ7iMveZI3.kb2NAn3zmHTuX4%2F%2BGFuctcEhQVVLyyyfCrMup3pwuks; Webstorm-243d0253=a9bf89c7-42c7-425d-aa5b-7fa779c9da73","connection":"keep-alive","upgrade-insecure-requests":"1","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12) AppleWebKit/602.1.50 (KHTML, like Gecko) Version/10.0 Safari/602.1.50","referer":"http://localhost:3000/","accept-language":"zh-cn","accept-encoding":"gzip, deflate"},"method":"GET","httpVersion":"1.1","originalUrl":"/users/manager","query":{}},"level":"error","message":"middlewareError","timestamp":"2017-02-01T12:46:42.091Z"}
{"date":"Wed Feb 01 2017 20:49:22 GMT+0800 (CST)","process":{"pid":1020,"uid":501,"gid":20,"cwd":"/Users/lihao/Desktop/NodeDemo/AppServer","execPath":"/usr/local/bin/node","version":"v6.9.1","argv":["/usr/local/bin/node","/Users/lihao/Desktop/NodeDemo/AppServer/bin/www"],"memoryUsage":{"rss":51163136,"heapTotal":36712448,"heapUsed":23946328}},"os":{"loadavg":[3.2421875,2.767578125,2.724609375],"uptime":36898},"trace":[{"column":21,"file":"<anonymous>","function":"eval (eval at compile (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/ejs/lib/ejs.js:464:12),","line":11,"method":"js:464:12),","native":false},{"column":17,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/ejs/lib/ejs.js","function":"returnedFn","line":493,"method":null,"native":false},{"column":31,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/ejs/lib/ejs.js","function":"View.exports.renderFile [as engine]","line":350,"method":"exports.renderFile [as engine]","native":false},{"column":8,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/view.js","function":"View.render","line":126,"method":"render","native":false},{"column":10,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/application.js","function":"tryRender","line":639,"method":null,"native":false},{"column":3,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/application.js","function":"EventEmitter.render","line":591,"method":"render","native":false},{"column":7,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/response.js","function":"ServerResponse.render","line":960,"method":"render","native":false},{"column":16,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/routes/users.js","function":null,"line":55,"method":null,"native":false},{"column":5,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/router/route.js","function":"next","line":131,"method":null,"native":false}],"stack":["ReferenceError: /Users/lihao/Desktop/NodeDemo/AppServer/views/user.ejs:34","    32|             <td style=\"width:70px;\">时间</td>","    33|         </tr>"," >> 34|         <% for(var i in data){ %>","    35|         <tr style=\"text-align:center;height:26px;color:#4C4C4C;\">","    36|             <td width=\"10px;\"><%= (parseInt(i) + 1) %></td>","    37|             <td><%= data[i].id %></td>","","data is not defined","    at eval (eval at compile (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/ejs/lib/ejs.js:464:12), <anonymous>:11:21)","    at returnedFn (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/ejs/lib/ejs.js:493:17)","    at View.exports.renderFile [as engine] (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/ejs/lib/ejs.js:350:31)","    at View.render (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/view.js:126:8)","    at tryRender (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/application.js:639:10)","    at EventEmitter.render (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/application.js:591:3)","    at ServerResponse.render (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/response.js:960:7)","    at /Users/lihao/Desktop/NodeDemo/AppServer/routes/users.js:55:16","    at Layer.handle [as handle_request] (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/router/layer.js:95:5)","    at next (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/router/route.js:131:13)"],"req":{"url":"/users/manager","headers":{"host":"localhost:3000","cookie":"connect.sid=s%3AU_TUYOja2XNdjSgjuJaWOJvYIJ_IfqXX.xmeFnlC8YuMwpijRW1aHXF3lplGbGqcbbvM8HvQ44Pc; myblog=s%3Aayda0MgvXb6TLFxq-6Y-TymJ7iMveZI3.kb2NAn3zmHTuX4%2F%2BGFuctcEhQVVLyyyfCrMup3pwuks; Webstorm-243d0253=a9bf89c7-42c7-425d-aa5b-7fa779c9da73","connection":"keep-alive","upgrade-insecure-requests":"1","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12) AppleWebKit/602.1.50 (KHTML, like Gecko) Version/10.0 Safari/602.1.50","referer":"http://localhost:3000/","accept-language":"zh-cn","accept-encoding":"gzip, deflate"},"method":"GET","httpVersion":"1.1","originalUrl":"/users/manager","query":{}},"level":"error","message":"middlewareError","timestamp":"2017-02-01T12:49:22.741Z"}
{"date":"Wed Feb 01 2017 20:51:26 GMT+0800 (CST)","process":{"pid":1029,"uid":501,"gid":20,"cwd":"/Users/lihao/Desktop/NodeDemo/AppServer","execPath":"/usr/local/bin/node","version":"v6.9.1","argv":["/usr/local/bin/node","/Users/lihao/Desktop/NodeDemo/AppServer/bin/www"],"memoryUsage":{"rss":51175424,"heapTotal":36712448,"heapUsed":24044288}},"os":{"loadavg":[2.76025390625,2.6630859375,2.68212890625],"uptime":37022},"trace":[{"column":21,"file":"<anonymous>","function":"eval (eval at compile (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/ejs/lib/ejs.js:464:12),","line":11,"method":"js:464:12),","native":false},{"column":17,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/ejs/lib/ejs.js","function":"returnedFn","line":493,"method":null,"native":false},{"column":31,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/ejs/lib/ejs.js","function":"View.exports.renderFile [as engine]","line":350,"method":"exports.renderFile [as engine]","native":false},{"column":8,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/view.js","function":"View.render","line":126,"method":"render","native":false},{"column":10,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/application.js","function":"tryRender","line":639,"method":null,"native":false},{"column":3,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/application.js","function":"EventEmitter.render","line":591,"method":"render","native":false},{"column":7,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/response.js","function":"ServerResponse.render","line":960,"method":"render","native":false},{"column":16,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/routes/users.js","function":null,"line":56,"method":null,"native":false},{"column":5,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/router/route.js","function":"next","line":131,"method":null,"native":false}],"stack":["ReferenceError: /Users/lihao/Desktop/NodeDemo/AppServer/views/user.ejs:34","    32|             <td style=\"width:70px;\">时间</td>","    33|         </tr>"," >> 34|         <% for(var i in data){ %>","    35|         <tr style=\"text-align:center;height:26px;color:#4C4C4C;\">","    36|             <td width=\"10px;\"><%= (parseInt(i) + 1) %></td>","    37|             <td><%= data[i].id %></td>","","data is not defined","    at eval (eval at compile (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/ejs/lib/ejs.js:464:12), <anonymous>:11:21)","    at returnedFn (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/ejs/lib/ejs.js:493:17)","    at View.exports.renderFile [as engine] (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/ejs/lib/ejs.js:350:31)","    at View.render (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/view.js:126:8)","    at tryRender (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/application.js:639:10)","    at EventEmitter.render (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/application.js:591:3)","    at ServerResponse.render (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/response.js:960:7)","    at /Users/lihao/Desktop/NodeDemo/AppServer/routes/users.js:56:16","    at Layer.handle [as handle_request] (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/router/layer.js:95:5)","    at next (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/router/route.js:131:13)"],"req":{"url":"/users/manager","headers":{"host":"localhost:3000","cookie":"connect.sid=s%3ATgGTFp7kV0sM0IjKE-hWZrRNIWV2cLe2.RSyruJk7UDE6BTt5P5Ejm2HFTJFdrCPeMKK4qlwpo4g; myblog=s%3Aayda0MgvXb6TLFxq-6Y-TymJ7iMveZI3.kb2NAn3zmHTuX4%2F%2BGFuctcEhQVVLyyyfCrMup3pwuks; Webstorm-243d0253=a9bf89c7-42c7-425d-aa5b-7fa779c9da73","connection":"keep-alive","upgrade-insecure-requests":"1","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12) AppleWebKit/602.1.50 (KHTML, like Gecko) Version/10.0 Safari/602.1.50","referer":"http://localhost:3000/","accept-language":"zh-cn","accept-encoding":"gzip, deflate"},"method":"GET","httpVersion":"1.1","originalUrl":"/users/manager","query":{}},"level":"error","message":"middlewareError","timestamp":"2017-02-01T12:51:26.375Z"}
{"date":"Fri Feb 03 2017 11:57:01 GMT+0800 (CST)","process":{"pid":64158,"uid":501,"gid":20,"cwd":"/Users/lihao/Desktop/NodeDemo/AppServer","execPath":"/usr/local/bin/node","version":"v6.9.1","argv":["/usr/local/bin/node","/Users/lihao/Desktop/NodeDemo/AppServer/bin/www"],"memoryUsage":{"rss":47927296,"heapTotal":35663872,"heapUsed":21370920}},"os":{"loadavg":[3.20068359375,2.603515625,2.6298828125],"uptime":177753},"trace":[{"column":56,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express-session/node_modules/cookie/index.js","function":"Object.serialize","line":95,"method":"serialize","native":false},{"column":21,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express-session/index.js","function":"setcookie","line":577,"method":null,"native":false},{"column":7,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express-session/index.js","function":"","line":200,"method":null,"native":false},{"column":16,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/on-headers/index.js","function":"ServerResponse.writeHead","line":46,"method":"writeHead","native":false},{"column":8,"file":"_http_server.js","function":"ServerResponse._implicitHeader","line":157,"method":"_implicitHeader","native":false},{"column":10,"file":"_http_outgoing.js","function":"ServerResponse.OutgoingMessage.write","line":446,"method":"OutgoingMessage.write","native":false},{"column":26,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express-session/index.js","function":"writetop","line":248,"method":null,"native":false},{"column":16,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express-session/index.js","function":"ServerResponse.end","line":293,"method":"end","native":false},{"column":17,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express-winston/index.js","function":"ServerResponse.res.end","line":207,"method":"res.end","native":false},{"column":10,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/response.js","function":"ServerResponse.redirect","line":899,"method":"redirect","native":false}],"stack":["TypeError: opt.expires.toUTCString is not a function","    at Object.serialize (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express-session/node_modules/cookie/index.js:95:56)","    at setcookie (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express-session/index.js:577:21)","    at ServerResponse.<anonymous> (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express-session/index.js:200:7)","    at ServerResponse.writeHead (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/on-headers/index.js:46:16)","    at ServerResponse._implicitHeader (_http_server.js:157:8)","    at ServerResponse.OutgoingMessage.write (_http_outgoing.js:446:10)","    at writetop (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express-session/index.js:248:26)","    at ServerResponse.end (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express-session/index.js:293:16)","    at ServerResponse.res.end (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express-winston/index.js:207:17)","    at ServerResponse.redirect (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/response.js:899:10)"],"req":{"url":"/","headers":{"host":"localhost:3000","cookie":"connect.sid=s%3A0E9JqPQfEuiwed5EIQecA62mHDmzJcAp.VZInwHNqTAC%2Bp2FQfgyEEOoI12eawN%2BDKs9vpHEqFLE; myblog=s%3Aayda0MgvXb6TLFxq-6Y-TymJ7iMveZI3.kb2NAn3zmHTuX4%2F%2BGFuctcEhQVVLyyyfCrMup3pwuks; Webstorm-243d0253=a9bf89c7-42c7-425d-aa5b-7fa779c9da73","if-none-match":"W/\"8ac-MbbV58lz41mkImVvQ1BIdA\"","upgrade-insecure-requests":"1","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12) AppleWebKit/602.1.50 (KHTML, like Gecko) Version/10.0 Safari/602.1.50","accept-language":"zh-cn","accept-encoding":"gzip, deflate","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/","query":{}},"level":"error","message":"middlewareError","timestamp":"2017-02-03T03:57:02.001Z"}
{"date":"Fri Feb 03 2017 11:57:02 GMT+0800 (CST)","process":{"pid":64158,"uid":501,"gid":20,"cwd":"/Users/lihao/Desktop/NodeDemo/AppServer","execPath":"/usr/local/bin/node","version":"v6.9.1","argv":["/usr/local/bin/node","/Users/lihao/Desktop/NodeDemo/AppServer/bin/www"],"memoryUsage":{"rss":49938432,"heapTotal":35663872,"heapUsed":23235624}},"os":{"loadavg":[3.20068359375,2.603515625,2.6298828125],"uptime":177754},"trace":[{"column":56,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express-session/node_modules/cookie/index.js","function":"Object.serialize","line":95,"method":"serialize","native":false},{"column":21,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express-session/index.js","function":"setcookie","line":577,"method":null,"native":false},{"column":7,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express-session/index.js","function":"","line":200,"method":null,"native":false},{"column":16,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/on-headers/index.js","function":"ServerResponse.writeHead","line":46,"method":"writeHead","native":false},{"column":8,"file":"_http_server.js","function":"ServerResponse._implicitHeader","line":157,"method":"_implicitHeader","native":false},{"column":10,"file":"_http_outgoing.js","function":"ServerResponse.OutgoingMessage.write","line":446,"method":"OutgoingMessage.write","native":false},{"column":26,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express-session/index.js","function":"writetop","line":248,"method":null,"native":false},{"column":16,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express-session/index.js","function":"ServerResponse.end","line":293,"method":"end","native":false},{"column":17,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express-winston/index.js","function":"ServerResponse.res.end","line":207,"method":"res.end","native":false},{"column":10,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/response.js","function":"ServerResponse.send","line":205,"method":"send","native":false}],"stack":["TypeError: opt.expires.toUTCString is not a function","    at Object.serialize (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express-session/node_modules/cookie/index.js:95:56)","    at setcookie (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express-session/index.js:577:21)","    at ServerResponse.<anonymous> (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express-session/index.js:200:7)","    at ServerResponse.writeHead (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/on-headers/index.js:46:16)","    at ServerResponse._implicitHeader (_http_server.js:157:8)","    at ServerResponse.OutgoingMessage.write (_http_outgoing.js:446:10)","    at writetop (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express-session/index.js:248:26)","    at ServerResponse.end (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express-session/index.js:293:16)","    at ServerResponse.res.end (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express-winston/index.js:207:17)","    at ServerResponse.send (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/response.js:205:10)"],"req":{"url":"/users/login","headers":{"host":"localhost:3000","cookie":"connect.sid=s%3A0E9JqPQfEuiwed5EIQecA62mHDmzJcAp.VZInwHNqTAC%2Bp2FQfgyEEOoI12eawN%2BDKs9vpHEqFLE; myblog=s%3Aayda0MgvXb6TLFxq-6Y-TymJ7iMveZI3.kb2NAn3zmHTuX4%2F%2BGFuctcEhQVVLyyyfCrMup3pwuks; Webstorm-243d0253=a9bf89c7-42c7-425d-aa5b-7fa779c9da73","if-none-match":"W/\"8ac-MbbV58lz41mkImVvQ1BIdA\"","upgrade-insecure-requests":"1","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12) AppleWebKit/602.1.50 (KHTML, like Gecko) Version/10.0 Safari/602.1.50","accept-language":"zh-cn","accept-encoding":"gzip, deflate","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/users/login","query":{}},"level":"error","message":"middlewareError","timestamp":"2017-02-03T03:57:02.058Z"}
{"date":"Fri Feb 03 2017 15:14:31 GMT+0800 (CST)","process":{"pid":64437,"uid":501,"gid":20,"cwd":"/Users/lihao/Desktop/NodeDemo/AppServer","execPath":"/usr/local/bin/node","version":"v6.9.1","argv":["/usr/local/bin/node","/Users/lihao/Desktop/NodeDemo/AppServer/bin/www"],"memoryUsage":{"rss":52817920,"heapTotal":38809600,"heapUsed":25802512}},"os":{"loadavg":[2.75927734375,2.5751953125,2.59912109375],"uptime":189603},"trace":[{"column":23,"file":"<anonymous>","function":"eval (eval at compile (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/ejs/lib/ejs.js:464:12),","line":11,"method":"js:464:12),","native":false},{"column":17,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/ejs/lib/ejs.js","function":"returnedFn","line":493,"method":null,"native":false},{"column":31,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/ejs/lib/ejs.js","function":"View.exports.renderFile [as engine]","line":350,"method":"exports.renderFile [as engine]","native":false},{"column":8,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/view.js","function":"View.render","line":126,"method":"render","native":false},{"column":10,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/application.js","function":"tryRender","line":639,"method":null,"native":false},{"column":3,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/application.js","function":"EventEmitter.render","line":591,"method":"render","native":false},{"column":7,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/response.js","function":"ServerResponse.render","line":960,"method":"render","native":false},{"column":20,"file":"/Users/lihao/Desktop/NodeDemo/AppServer/routes/funny.js","function":"dao.queryAll.then.res.send.status","line":12,"method":"queryAll.then.res.send.status","native":false},{"column":7,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":103,"method":"_tickCallback","native":false}],"stack":["ReferenceError: /Users/lihao/Desktop/NodeDemo/AppServer/views/funny.ejs:9","    7| <body>","    8| <div class=\"header\">"," >> 9|     <div class=\"header_title\"><a href=\"/\">添加笑料模块</a><span class=\"header_user\">欢迎你, <%= user %></span></div>","    10| </div>","    11| <div class=\"addinfo\">","    12|     <div>","","user is not defined","    at eval (eval at compile (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/ejs/lib/ejs.js:464:12), <anonymous>:11:23)","    at returnedFn (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/ejs/lib/ejs.js:493:17)","    at View.exports.renderFile [as engine] (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/ejs/lib/ejs.js:350:31)","    at View.render (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/view.js:126:8)","    at tryRender (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/application.js:639:10)","    at EventEmitter.render (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/application.js:591:3)","    at ServerResponse.render (/Users/lihao/Desktop/NodeDemo/AppServer/node_modules/express/lib/response.js:960:7)","    at dao.queryAll.then.res.send.status (/Users/lihao/Desktop/NodeDemo/AppServer/routes/funny.js:12:20)","    at process._tickCallback (internal/process/next_tick.js:103:7)"],"req":{"url":"/funny","headers":{"host":"localhost:3000","cookie":"appuser=s%3AaA7U0D2Bcyq6RgjecnlP5_1m14TW-e9a.3CqyftDlM7l%2BpWB4h2hfb8XLXsMhBIoNfsAhgnpCdYw; connect.sid=s%3A0E9JqPQfEuiwed5EIQecA62mHDmzJcAp.VZInwHNqTAC%2Bp2FQfgyEEOoI12eawN%2BDKs9vpHEqFLE; myblog=s%3Aayda0MgvXb6TLFxq-6Y-TymJ7iMveZI3.kb2NAn3zmHTuX4%2F%2BGFuctcEhQVVLyyyfCrMup3pwuks; Webstorm-243d0253=a9bf89c7-42c7-425d-aa5b-7fa779c9da73","connection":"keep-alive","if-none-match":"W/\"819-npLMd//CPBc3CZe8HFn4Sw\"","upgrade-insecure-requests":"1","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12) AppleWebKit/602.1.50 (KHTML, like Gecko) Version/10.0 Safari/602.1.50","referer":"http://localhost:3000/","accept-language":"zh-cn","accept-encoding":"gzip, deflate"},"method":"GET","httpVersion":"1.1","originalUrl":"/funny","query":{}},"level":"error","message":"middlewareError","timestamp":"2017-02-03T07:14:31.347Z"}
